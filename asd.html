<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Shopping Cart</title>
    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/remixicon/fonts/remixicon.css"
      rel="stylesheet"
    />
  </head>
  <body class="bg-gray-100">
    <div class="container mx-auto p-4 md:p-8">
      <h1 class="text-3xl font-bold mb-6 text-center md:text-left">
        Shopping Cart
      </h1>
      <div id="cartItems" class="space-y-6">
        <!-- Cart items will be dynamically added here -->
      </div>
      <div class="border-t mt-6 pt-4">
        <div
          class="flex flex-col md:flex-row justify-between items-center mb-6"
        >
          <span class="text-xl font-bold mb-2 md:mb-0"
            >Total Quantity: <span id="totalQuantity">0</span></span
          >
          <span class="text-xl font-bold mb-2 md:mb-0"
            >Total: $<span id="totalPrice">0.00</span></span
          >
        </div>
        <div
          class="flex flex-col md:flex-row justify-end space-y-4 md:space-y-0 md:space-x-4"
        >
          <button
            id="clearCart"
            class="bg-red-500 text-white px-4 py-2 rounded shadow-md hover:bg-red-600"
          >
            Clear Cart
          </button>
          <button
            id="continueShopping"
            class="bg-blue-500 text-white px-4 py-2 rounded shadow-md hover:bg-blue-600"
          >
            Continue Shopping
          </button>
          <button
            id="checkout"
            class="bg-green-500 text-white px-4 py-2 rounded shadow-md hover:bg-green-600"
          >
            Checkout
          </button>
        </div>
      </div>
    </div>

    <script>
      const cartItems = [
        {
          image: "./assets/images/food_1.png",
          name: "Item 1",
          description: "Short description of item 1",
          price: 10,
          quantity: 1,
        },
        {
          image: "./assets/images/food_10.png",
          name: "Item 2",
          description: "Short description of item 2",
          price: 20,
          quantity: 2,
        },
        {
          image: "./assets/images/food_13.png",
          name: "Item 2",
          description: "Short description of item 2",
          price: 20,
          quantity: 2,
        },
        {
          image: "./assets/images/food_12.png",
          name: "Item 2",
          description: "Short description of item 2",
          price: 20,
          quantity: 2,
        },
      ];

      function updateCart() {
        const cartItemsContainer = document.getElementById("cartItems");
        const totalQuantityEl = document.getElementById("totalQuantity");
        const totalPriceEl = document.getElementById("totalPrice");
        cartItemsContainer.innerHTML = "";
        let totalQuantity = 0;
        let totalPrice = 0;

        cartItems.forEach((item, index) => {
          totalQuantity += item.quantity;
          totalPrice += item.price * item.quantity;

          const itemEl = document.createElement("div");
          itemEl.className =
            "flex flex-col md:flex-row items-center bg-white p-4 rounded-lg shadow-md";
          itemEl.innerHTML = `
            <img src="${item.image}" alt="${
            item.name
          }" class="w-24 h-24 md:w-16 md:h-16 object-cover rounded mr-4 mb-4 md:mb-0">
            <div class="flex-1 text-center md:text-left">
                <h2 class="text-lg md:text-xl font-bold">${item.name}</h2>
                <p class="text-sm md:text-base">${item.description}</p>
                <p class="text-md md:text-lg font-bold">Price: $${item.price.toFixed(
                  2
                )}</p>
                <p class="text-md md:text-lg font-bold">Subtotal: $${(
                  item.price * item.quantity
                ).toFixed(2)}</p>
            </div>
            <div class="flex items-center mt-4 md:mt-0">
                <input type="number" value="${
                  item.quantity
                }" min="1" class="w-16 p-2 border rounded mr-4 quantity-input">
                <button class="remove-item text-red-500 text-2xl"><i class="ri-delete-bin-line"></i></button>
            </div>
        `;

          cartItemsContainer.appendChild(itemEl);

          const quantityInput = itemEl.querySelector(".quantity-input");
          const removeButton = itemEl.querySelector(".remove-item");

          quantityInput.addEventListener("change", (e) => {
            const newQuantity = parseInt(e.target.value);
            if (newQuantity > 0) {
              item.quantity = newQuantity;
              updateCart();
            }
          });

          removeButton.addEventListener("click", () => {
            cartItems.splice(index, 1);
            updateCart();
          });
        });

        totalQuantityEl.textContent = totalQuantity;
        totalPriceEl.textContent = totalPrice.toFixed(2);
      }

      document.getElementById("clearCart").addEventListener("click", () => {
        cartItems.length = 0;
        updateCart();
      });

      updateCart();
    </script>
  </body>
</html>
